<div style="background: #ffffff; border: 1px solid #3366cc; border-radius: 12px; padding: 24px; max-width: 700px; margin: 0 auto; font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; box-shadow: 0 2px 6px rgba(0,0,0,0.1);">

  <div style="display: flex; align-items: center; gap: 12px; margin-bottom: 20px; background: #f8f9fa; padding: 12px 16px; border-radius: 40px; border-left: 5px solid #3366cc;">
    <span style="background: #3366cc; color: white; border-radius: 20px; padding: 4px 14px; font-weight: 500; font-size: 14px;">—Ö–∞—Ä—å–∫–æ–≤ –º–æ–≤–∞ INSTANT</span>
    <span style="color: #202122;">–ø–µ—Ä–µ–∫–ª–∞–¥ –º–∏—Ç—Ç—î–≤–æ</span>
  </div>

  <label style="font-weight: 500; color: #202122; display: block; margin-bottom: 6px;">–≤–≤–æ–¥:</label>
  <input
    id="inputText"
    type="text"
    placeholder="–Ω–∞–ø—Ä–∏–º–µ—Ä: –ø—Ä–∏–≤–µ—Ç, —á–æ –Ω–∞–¥–æ? —É–¥–∞–ª–∏ —ç—Ç–æ, –∫–∞–∫ –¥–µ–ª–∞?"
    value="–ø—Ä–∏–≤–µ—Ç, —á–æ –Ω–∞–¥–æ? —É–¥–∞–ª–∏ —ç—Ç–æ, –∫–∞–∫ –¥–µ–ª–∞?"
    style="width: 100%; padding: 14px 18px; font-size: 16px; border: 2px solid #3366cc; border-radius: 40px; margin-bottom: 20px; background: white; outline: none;"
  />

  <div style="display: flex; align-items: center; justify-content: space-between; margin-bottom: 8px;">
    <span style="color: #202122; font-weight: 600;">–ø–µ—Ä–µ–≤–æ–¥ —Ö–∞—Ä—å–∫–æ–≤—Å–∫–∏–π:</span>
    <span style="font-size: 13px; background: #eaf3ff; padding: 4px 12px; border-radius: 30px; color: #3366cc;">online</span>
  </div>

  <div
    id="output"
    style="background: #f8f9fa; border: 2px solid #a2a9b1; border-radius: 18px; padding: 18px; min-height: 80px; font-size: 18px; color: #000; white-space: pre-wrap; word-break: break-word;"
  ></div>

  <div style="font-size: 13px; color: #3366cc; margin-top: 16px; display: flex; gap: 20px; flex-wrap: wrap; background: #f0f6ff; padding: 10px 16px; border-radius: 30px;">
    <span>–ø—Ä–∏–≤–µ—Ç (—É—Ç–≤.) ‚Üí –ª—Ä–∏–µ—Ç</span>
    <span>–ø—Ä–∏–≤–µ—Ç? ‚Üí –ø—Ä–ø–≤—Ç? üíÄ</span>
    <span>—á–æ/—á—Ç–æ/—á–µ–≥–æ ‚Üí –∞—á–æ—á–æ—á–æ—á–æ—á–æ—á–æ</span>
    <span>—É–¥–∞–ª–∏ ‚Üí —É–¥–æ–ª–∏</span>
    <span>–∫–∞–∫ ‚Üí –∞–∫–∞–∫</span>
    <span>–æ—Å—Ç–∞–ª—å–Ω—ã–µ +–¢: —Ö–æ—Ä–æ—à–æ‚Üí—Ö–æ—Ä–æ—â—Ç</span>
  </div>
</div>

<script>
  // —Ñ—É–Ω–∫—Ü–∏—è –ø–µ—Ä–µ–≤–æ–¥–∞
  function translateKharkov(text) {
    if (!text.trim()) return '';

    // –ò—Å–∫–ª—é—á–µ–Ω–∏—è (–Ω–µ –¥–æ–±–∞–≤–ª—è–µ–º –¢, –Ω–µ –º–µ–Ω—è–µ–º)
    const exceptions = new Set(['–ª—Ä–∏–µ—Ç', '–ø—Ä–ø–≤—Ç', '—É–¥–æ–ª–∏', '–ø—Ä–∫–∞', '–∞—á–æ—á–æ—á–æ—á–æ—á–æ—á–æ', '–∞–∫–∞–∫']);
    
    // –°–ª–æ–≤–∞—Ä—å –∑–∞–º–µ–Ω
    const replaceMap = {
      '–ø—Ä–∏–≤–µ—Ç': '–ª—Ä–∏–µ—Ç',
      '—á—Ç–æ': '–∞—á–æ—á–æ—á–æ—á–æ—á–æ—á–æ',
      '—á–æ': '–∞—á–æ—á–æ—á–æ—á–æ—á–æ—á–æ',
      '—á–µ–≥–æ': '–∞—á–æ—á–æ—á–æ—á–æ—á–æ—á–æ',
      '—á—ë': '–∞—á–æ—á–æ—á–æ—á–æ—á–æ—á–æ',
      '—É–¥–∞–ª–∏': '—É–¥–æ–ª–∏',
      '—É–¥–∞–ª–∏—Ç—å': '—É–¥–æ–ª–∏',
      '–∫–∞–∫': '–∞–∫–∞–∫'
    };

    const tokens = text.split(/(\s+|[,.!?;:]+)/).filter(Boolean);
    let result = [];
    let isFirstWord = true;

    // –æ–ø—Ä–µ–¥–µ–ª—è–µ–º —Ç–∏–ø –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è
    const fullTextLower = text.toLowerCase();
    const hasQuestionMark = text.includes('?');
    const hasExclamation = text.includes('!');
    const looksNegative = /–Ω–µ |–Ω–µ—Ç|–Ω–∏—á–µ–≥–æ|–Ω–∏–∫–∞–∫|–Ω–∏—Ñ–∏–≥–∞/i.test(fullTextLower);
    const isQuestionType = hasQuestionMark || hasExclamation || /(–∫–∞–∫|–≥–¥–µ|–ø–æ—á–µ–º—É|–∑–∞—á–µ–º|—á—Ç–æ|–∫—Ç–æ|–∫–æ–≥–¥–∞|—Å–∫–æ–ª—å–∫–æ|–∞—á–æ—á–æ—á–æ—á–æ—á–æ—á–æ|–∞–∫–∞–∫)/i.test(fullTextLower);

    for (let token of tokens) {
      if (/^\s+$/.test(token) || /^[,.!?;:]+$/.test(token)) {
        result.push(token);
        continue;
      }

      let word = token;
      let tailPunct = '';
      const punctMatch = word.match(/^(.+?)([,.!?;:]*)$/);
      if (punctMatch) {
        word = punctMatch[1];
        tailPunct = punctMatch[2];
      }

      const lowerWord = word.toLowerCase();
      
      // –ø—Ä–æ–≤–µ—Ä—è–µ–º, –µ—Å—Ç—å –ª–∏ —Å–ª–æ–≤–æ –≤ —Å–ª–æ–≤–∞—Ä–µ –∑–∞–º–µ–Ω
      let processedWord = word;
      if (replaceMap[lowerWord]) {
        processedWord = replaceMap[lowerWord];
      } else {
        // —à -> —â
        processedWord = processedWord.replace(/—à/g, '—â').replace(/–®/g, '–©');
        // —É–±–∏—Ä–∞–µ–º '–æ' –≤ –∫–æ–Ω—Ü–µ
        if (processedWord.toLowerCase().endsWith('–æ')) {
          processedWord = processedWord.slice(0, -1);
        }
      }

      // –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –∏—Å–∫–ª—é—á–µ–Ω–∏—è (–Ω–µ –¥–æ–±–∞–≤–ª—è–µ–º –¢)
      const isException = exceptions.has(processedWord.toLowerCase());
      
      // –¥–æ–±–∞–≤–ª—è–µ–º –¢ –≤ –∫–æ–Ω–µ—Ü —Å–ª–æ–≤–∞, –µ—Å–ª–∏ –Ω–µ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ –∏ –µ—Å–ª–∏ —ç—Ç–æ –Ω–µ —Å–ª–æ–≤–æ –∏–∑ replaceMap
      if (!isException && !replaceMap[lowerWord] && !processedWord.toLowerCase().endsWith('—Ç')) {
        processedWord = processedWord + '—Ç';
      }

      // –¥–æ–±–∞–≤–ª—è–µ–º "–Ω—É" –ø–µ—Ä–µ–¥ –ø–µ—Ä–≤—ã–º —Å–ª–æ–≤–æ–º (–∫—Ä–æ–º–µ –∏—Å–∫–ª—é—á–µ–Ω–∏–π)
      if (isFirstWord) {
        if (isException || replaceMap[lowerWord]) {
          result.push(processedWord + tailPunct);
        } else {
          result.push('–Ω—É ' + processedWord + tailPunct);
        }
        isFirstWord = false;
      } else {
        result.push(processedWord + tailPunct);
      }
    }

    let finalText = result.join('');

    // —É–±–∏—Ä–∞–µ–º —Å—Ç–∞—Ä—ã–µ —Å–∏–º–≤–æ–ª—ã –≤ –∫–æ–Ω—Ü–µ
    finalText = finalText.replace(/[üíÄ\)\s]+$/, '').trim();

    // –¥–æ–±–∞–≤–ª—è–µ–º –∫–æ–Ω—Ü–æ–≤–∫—É (üíÄ –∏–ª–∏ ))
    if (isQuestionType || looksNegative) {
      finalText += ' üíÄ';
    } else {
      finalText += ' )';
    }

    return finalText;
  }

  // –ø–æ–ª—É—á–∞–µ–º —ç–ª–µ–º–µ–Ω—Ç—ã
  const input = document.getElementById('inputText');
  const output = document.getElementById('output');

  // —Ñ—É–Ω–∫—Ü–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –ø–µ—Ä–µ–≤–æ–¥–∞
  function updateTranslation() {
    output.textContent = translateKharkov(input.value);
  }

  // –≤–µ—à–∞–µ–º —Å–æ–±—ã—Ç–∏–µ –Ω–∞ –≤–≤–æ–¥
  input.addEventListener('input', updateTranslation);
  
  // –≤—ã–∑—ã–≤–∞–µ–º —Å—Ä–∞–∑—É –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
  window.addEventListener('load', function() {
    updateTranslation();
  });
  
  // –∏ –µ—â—ë —Å—Ä–∞–∑—É –≤—ã–∑—ã–≤–∞–µ–º, –µ—Å–ª–∏ —Å–∫—Ä–∏–ø—Ç –≤—ã–ø–æ–ª–Ω–∏–ª—Å—è –ø–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏ DOM
  if (document.readyState === 'loading') {
    document.addEventListener('DOMContentLoaded', updateTranslation);
  } else {
    updateTranslation();
  }
</script>

<style>
  .wiki-footer {
    background: #f8f9fa;
    border-radius: 12px;
    padding: 8px 16px;
    margin-top: 24px;
    font-size: 13px;
    color: #202122;
    border: 1px solid #c8ccd1;
    max-width: 700px;
    margin-left: auto;
    margin-right: auto;
  }
</style>

<div class="wiki-footer">
  <strong>—Ç–µ–ø–µ—Ä—å —Å—Ä–∞–∑—É –ø–µ—Ä–µ–≤–æ–¥ —Ä–∞–±–æ—Ç–∞–µ—Ç!</strong><br>
  ‚Ä¢ ¬´–ø—Ä–∏–≤–µ—Ç, —á–æ –Ω–∞–¥–æ?¬ª ‚Üí ¬´–Ω—É –ª—Ä–∏–µ—Ç, –∞—á–æ—á–æ—á–æ—á–æ—á–æ—á–æ –Ω–∞–¥–æ—Ç? üíÄ¬ª<br>
  ‚Ä¢ ¬´—É–¥–∞–ª–∏ —ç—Ç–æ, –∫–∞–∫ –¥–µ–ª–∞?¬ª ‚Üí ¬´—É–¥–æ–ª–∏ —ç—Ç–æ—Ç, –∞–∫–∞–∫ –¥–µ–ª–∞—Ç? üíÄ¬ª<br>
  ‚Ä¢ ¬´–≤—Å—ë —Ö–æ—Ä–æ—à–æ¬ª ‚Üí ¬´–Ω—É –≤—Å—ë—Ç —Ö–æ—Ä–æ—â—Ç )¬ª
</div>